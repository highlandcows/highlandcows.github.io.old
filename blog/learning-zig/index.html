<!DOCTYPE html><html lang="en" class="astro-7DC3FJFN">
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Blog | Learning Zig</title>
    <meta name="title" content="Blog | Learning Zig">
    <meta name="description" content="In which, I rediscover a small systems programming language">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="shortcut icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

    <meta httpEquiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Open Graph Tags (Facebook) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Blog | Learning Zig">
    
    <meta property="og:description" content="In which, I rediscover a small systems programming language">
    

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Blog | Learning Zig">
    
    <meta property="twitter:description" content="In which, I rediscover a small systems programming language">
    

    

    <link rel="stylesheet" href="/assets/7e8648bf.905242a4.css" />
<link rel="stylesheet" href="/assets/22d5a920.13929d2e.css" />
<link rel="stylesheet" href="/assets/131e63a5.2883bd8d.css" /><script type="module" src="/hoisted.9c0718d3.js"></script></head>
    <body class="font-sans antialiased min-h-screen">
    <div class="bg-gray-100 dark:bg-gray-800 transition-colors">
        <main class="mx-auto max-w-4xl px-4 md:px-0">
            <br class="my-4 astro-QG7TIMHI"><header class="header astro-RQQND6GD">
    <div class="header__logo astro-RQQND6GD">
        <a href="/" class="avatar astro-RQQND6GD">
            <img class="header__logo-img astro-RQQND6GD" src="/assets/highland-cow-head.png" alt="Highland Cows logo">
        </a>
    </div>
    <div class="header__meta flex-1 astro-RQQND6GD">
        <h3 class="header__title dark:text-primarySecondaryDark astro-RQQND6GD">
            <a href="" class="astro-RQQND6GD">Highland Cows</a>
        </h3>
        <div class="header__meta-more flex astro-RQQND6GD">
            <p class="header__desc astro-RQQND6GD">
                Technical ideas &amp; other musings
            </p>
            <nav class="header__nav flex astro-RQQND6GD">
                <ul class="header__ref-list astro-RQQND6GD">
                    <li class="astro-RQQND6GD">
                        <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).visible=(i,c,n)=>{const r=async()=>{await(await i())()};let s=new IntersectionObserver(e=>{for(const t of e)if(!!t.isIntersecting){s.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];s.observe(t)}};var a;{const l={0:t=>t,1:t=>JSON.parse(t,n),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,n)),5:t=>new Set(JSON.parse(t,n)),6:t=>BigInt(t),7:t=>new URL(t)},n=(t,r)=>{if(t===""||!Array.isArray(r))return r;const[s,i]=r;return s in l?l[s](i):void 0};customElements.get("astro-island")||customElements.define("astro-island",(a=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement?.closest("astro-island[ssr]"))return;const r=this.querySelectorAll("astro-slot"),s={},i=this.querySelectorAll("template[data-astro-template]");for(const e of i)!e.closest(this.tagName)?.isSameNode(this)||(s[e.getAttribute("data-astro-template")||"default"]=e.innerHTML,e.remove());for(const e of r)!e.closest(this.tagName)?.isSameNode(this)||(s[e.getAttribute("name")||"default"]=e.innerHTML);const o=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),n):{};this.hydrator(this)(this.Component,o,s,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((r,s)=>{s.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate),await import(this.getAttribute("before-hydration-url"));const r=JSON.parse(this.getAttribute("opts"));Astro[this.getAttribute("client")](async()=>{const s=this.getAttribute("renderer-url"),[i,{default:o}]=await Promise.all([import(this.getAttribute("component-url")),s?import(s):()=>()=>{}]),e=this.getAttribute("component-export")||"default";if(!e.includes("."))this.Component=i[e];else{this.Component=i;for(const c of e.split("."))this.Component=this.Component[c]}return this.hydrator=o,this.hydrate},r,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},a.observedAttributes=["props"],a))}</script><astro-island uid="1OFPj0" component-url="/SearchBtn.1f41f2c6.js" component-export="default" renderer-url="/client.b27523fa.js" props="{&quot;class&quot;:[0,&quot;astro-RQQND6GD&quot;]}" ssr="" client="visible" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;SearchBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2071 4.89344C19.0923 7.77862 19.3131 12.3193 16.8693 15.4578C16.8846 15.4713 16.8996 15.4854 16.9143 15.5L21.1569 19.7427C21.5474 20.1332 21.5474 20.7664 21.1569 21.1569C20.7664 21.5474 20.1332 21.5474 19.7427 21.1569L15.5 16.9143C15.4854 16.8996 15.4713 16.8846 15.4578 16.8693C12.3193 19.3131 7.77862 19.0923 4.89344 16.2071C1.76924 13.083 1.76924 8.01763 4.89344 4.89344C8.01763 1.76924 13.083 1.76924 16.2071 4.89344ZM14.7929 14.7929C17.1361 12.4498 17.1361 8.6508 14.7929 6.30765C12.4498 3.96451 8.6508 3.96451 6.30765 6.30765C3.96451 8.6508 3.96451 12.4498 6.30765 14.7929C8.6508 17.1361 12.4498 17.1361 14.7929 14.7929Z" fill="currentColor"></path></svg></button></astro-island>
                    </li>
                    <li class="astro-RQQND6GD">
                        <a href="https://github.com/highlandcows/website" title="Highland Cows's Github URL'" class="astro-RQQND6GD">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" class="astro-RQQND6GD"></path>
</svg>
                        </a>
                    </li>
                    <li class="astro-RQQND6GD">
                        <a href="/rss.xml" title="RSS" class="astro-RQQND6GD">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" class="astro-RQQND6GD"></path><path d="M4 4a16 16 0 0 1 16 16" class="astro-RQQND6GD"></path><circle cx="5" cy="19" r="1" class="astro-RQQND6GD"></circle>
</svg>
                        </a>
                    </li>
                    <li class="astro-RQQND6GD">
                        <astro-island uid="Z1H5hcK" component-url="/ModeSwitcherBtn.b4f11dc9.js" component-export="default" renderer-url="/client.b27523fa.js" props="{&quot;class&quot;:[0,&quot;astro-RQQND6GD&quot;]}" ssr="" client="visible" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;ModeSwitcherBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></astro-island>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<nav class="nav py-3 astro-CDCEOP25">
    <ul class="nav-list dark:text-primarySecondaryDark astro-CDCEOP25">
         <li class="astro-CDCEOP25">
                <a class="hover:underline astro-CDCEOP25" href="/" title="home">Home</a>
            </li><li class="astro-CDCEOP25">
                <a class="hover:underline astro-CDCEOP25" href="/blog" title="blog">Blog</a>
            </li><li class="astro-CDCEOP25">
                <a class="hover:underline astro-CDCEOP25" href="/tags" title="tags">Tags</a>
            </li><li class="astro-CDCEOP25">
                <a class="hover:underline astro-CDCEOP25" href="/about" title="about">About</a>
            </li>
    </ul>
</nav>
<div class="content astro-QG7TIMHI">
        <div class="post__header astro-7DC3FJFN">
            <div class="post__tags astro-7DC3FJFN">
                <a class="post__tag astro-7DC3FJFN" href="/tags/zig" title="zig">zig</a><a class="post__tag astro-7DC3FJFN" href="/tags/journey" title="journey">journey</a>
            </div>
            <h1 class="post__title astro-7DC3FJFN">Learning Zig</h1>
            <h5 class="post__desc astro-7DC3FJFN">
                <a class="post__author astro-7DC3FJFN" href="https://twitter.com/undefined" title="Nick Jacobs's twitter" target="_blank" rel="external">Nick Jacobs</a> |
                <span class="post__date astro-7DC3FJFN">Saturday, September 10, 2022</span>
            </h5>
        </div><article class="prose dark:prose-dark astro-H65O22HM">
    <p>I recently stumbled across a small C-like language called <a href="https://www.ziglang.org">Zig</a>. It’s
still under major development and is a bit rough around the edges, but it is quite usable so long as
you’re willing to jump into the source from time to time. As far as I can tell, it’s largely the
work of one person, Andrew Kelley. He writes about its goals in a <a href="https://andrewkelley.me/post/intro-to-zig.html">blog
entry</a> from 2016.</p>
<p>Early in my career, I worked almost exclusively in C. It was the first language that excited me
about coding and although it was a beast to work in, it was also a very transparent, i.e., you
pretty much always knew what a given piece of C code was doing. Although its lack of memory
management occasionally produced crashes that were challenging to fix. I think I probably benefited
from the fact that my time with the language pre-dated multi-threaded applications - the main
mechanism for parallelism was still primarily at the process level.</p>
<p>Like many developers who got their start in the 1980s, I moved from C to C++ and then onto Java.
C++, in retrospect, was a messy affair. It always had a very “kitchen sink” feel to it which, so
far as I could tell, only got worse as it matured. Java was a breath of fresh air in the mid-1990s
and I enjoyed working in it. While Java itself has not grown as much as C++ - it’s had some useful
additions like lambdas - the Java ecosystem itself has grown considerably. As I’ve written
<a href="scala-journey">elsewhere</a>, I’ve been working primarily in Scala since 2015.</p>
<p>Scala, is probably about as far from C as one can imagine. So when I found Zig, I decided that I
needed to have a go at learning it (no pun intended!). I tried to learn Rust but found that its
memory management was too complex to use on a casual basis - I suspect that if I was using it on a
daily basis I would be more comfortable with the complexity.</p>
<p>Zig, on the other hand, is much closer to C in feel. The langauge is small. It makes a nod to
object-oriented programming with the ability to add methods to <code>struct</code>’s but is not unduly O-O. It
also tries to give a bit more safety to working with references (as opposed to values) but again,
does not shield the developer from the underlying memory model. In particular, it is does not have
garbage collection, so one is back to managing memory directly.</p>
<p>It also has an interesting capability that I am still wrapping my brain around which is the ability
to specify that certain code is “comptime” - which is a shorthand for “compile time”. Code that uses
the “comptime” moniker has access to a number of interesting features, including that it will be
inlined. However, what I like about the “comptime” facility is that it is more structured than the C
preprocessor - the source of some of the most obfuscated code that I have ever seen.</p>
<p>It is also very easy to call C code from Zig - this is intentional and definitely a major strength
of the language.</p>
<p>My first non-trivial bit of code in Zig was an
<a href="https://github.com/njacobs5074/zig/tree/main/dining_philosphers">implementation</a> of the Dining
Philosophers’ Problem. However, I would be remiss if I did not give major kudoes to Dave Gauer, who has
written an extensive tutorial in Zig, <a href="https://github.com/ratfactor/ziglings">ziglings</a>. I highly
recommend working through the 90+ exercises he has written. At each step, he guides the student through
the process of fixing or tweaking code that is broken in some way. It’s a great introduction to the
language.</p>
<p>It’s not all milk and honey, though. I have had to become re-acquainted with my old friend, SIGSEGV
(segmentation violation), but as frustrating as those are, there is also something very reassuring about
its simplicity. I don’t think I’ll be using Zig for my day job just yet but as they say, “Never say never.”</p>
</article>


    </div><br class="my-4 astro-QG7TIMHI"><footer class="footer astro-JPYZMR4T">
    <nav class="nav astro-JPYZMR4T">
        <div class="astro-JPYZMR4T">2022  &copy; Copyright notice |  <a href="https://github.com/highlandcows/website" title="Highland Cows's Github URL'" class="astro-JPYZMR4T">Highland Cows</a>
        <script>(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()};</script><astro-island uid="1hRzmE" component-url="/ModeLabel.76ecfc10.js" component-export="default" renderer-url="/client.b27523fa.js" props="{&quot;class&quot;:[0,&quot;astro-JPYZMR4T&quot;]}" ssr="" client="load" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;ModeLabel&quot;,&quot;value&quot;:true}" await-children=""><span slot="dark">(dark)</span></astro-island> theme on <a href="https://astro.build/" class="astro-JPYZMR4T">Astro</a></div>
    </nav>
</footer>
<div class="portal-root">
    <astro-island uid="27vCTE" component-url="/SearchModal.9e018223.js" component-export="default" renderer-url="/client.b27523fa.js" props="{&quot;class&quot;:[0,&quot;astro-QG7TIMHI&quot;]}" ssr="" client="load" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;SearchModal&quot;,&quot;value&quot;:true}"></astro-island>
</div>
        </main>
    </div>
</body>



</html>